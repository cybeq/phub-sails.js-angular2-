(function(C,h){"object"==typeof exports&&"object"==typeof module?module.exports=h():"function"==typeof define&&define.amd?define([],h):"object"==typeof exports?exports.io=h():C.io=h()})(this,function(){return function(C){function h(n){if(a[n])return a[n].exports;var f=a[n]={exports:{},id:n,loaded:!1};return C[n].call(f.exports,f,f.exports,h),f.loaded=!0,f.exports}var a={};return h.m=C,h.c=a,h.p="",h(0)}([function(C,h,a){"use strict";function n(l,i){"object"===(typeof l>"u"?"undefined":f(l))&&(i=l,l=void 0),i=i||{};var c,s=y(l),e=s.source,t=s.id;return i.forceNew||i["force new connection"]||!1===i.multiplex||u[t]&&s.path in u[t].nsps?(w("ignoring socket cache for %s",e),c=v(e,i)):(u[t]||(w("new io instance for %s",e),u[t]=v(e,i)),c=u[t]),s.query&&!i.query&&(i.query=s.query),c.socket(s.path,i)}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},y=a(1),p=a(7),v=a(13),w=a(3)("socket.io-client");C.exports=h=n;var u=h.managers={};h.protocol=p.protocol,h.connect=n,h.Manager=a(13),h.Socket=a(39)},function(C,h,a){(function(n){"use strict";var y=a(2),p=a(3)("socket.io-client:url");C.exports=function f(v,w){var u=v;w=w||n.location,null==v&&(v=w.protocol+"//"+w.host),"string"==typeof v&&("/"===v.charAt(0)&&(v="/"===v.charAt(1)?w.protocol+v:w.host+v),/^(https?|wss?):\/\//.test(v)||(p("protocol-less url %s",v),v=typeof w<"u"?w.protocol+"//"+v:"https://"+v),p("parse %s",v),u=y(v)),u.port||(/^(http|ws)$/.test(u.protocol)?u.port="80":/^(http|ws)s$/.test(u.protocol)&&(u.port="443")),u.path=u.path||"/";var i=-1!==u.host.indexOf(":")?"["+u.host+"]":u.host;return u.id=u.protocol+"://"+i+":"+u.port,u.href=u.protocol+"://"+i+(w&&w.port===u.port?"":":"+u.port),u}}).call(h,function(){return this}())},function(C,h){var a=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];C.exports=function(f){var y=f,p=f.indexOf("["),v=f.indexOf("]");-1!=p&&-1!=v&&(f=f.substring(0,p)+f.substring(p,v).replace(/:/g,";")+f.substring(v,f.length));for(var w=a.exec(f||""),u={},l=14;l--;)u[n[l]]=w[l]||"";return-1!=p&&-1!=v&&(u.source=y,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u}},function(C,h,a){(function(n){function w(){var l;try{l=h.storage.debug}catch{}return!l&&typeof n<"u"&&"env"in n&&(l=n.env.DEBUG),l}(h=C.exports=a(5)).log=function p(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},h.formatArgs=function y(l){var i=this.useColors;if(l[0]=(i?"%c":"")+this.namespace+(i?" %c":" ")+l[0]+(i?"%c ":" ")+"+"+h.humanize(this.diff),i){var c="color: "+this.color;l.splice(1,0,c,"color: inherit");var s=0,e=0;l[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(s++,"%c"===t&&(e=s))}),l.splice(e,0,c)}},h.save=function v(l){try{null==l?h.storage.removeItem("debug"):h.storage.debug=l}catch{}},h.load=w,h.useColors=function f(){return!(typeof window>"u"||!window.process||"renderer"!==window.process.type)||typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},h.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:function u(){try{return window.localStorage}catch{}}(),h.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],h.formatters.j=function(l){try{return JSON.stringify(l)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}},h.enable(w())}).call(h,a(4))},function(C,h){function a(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function f(d){if(l===setTimeout)return setTimeout(d,0);if((l===a||!l)&&setTimeout)return l=setTimeout,setTimeout(d,0);try{return l(d,0)}catch{try{return l.call(null,d,0)}catch{return l.call(this,d,0)}}}function p(){t&&s&&(t=!1,s.length?e=s.concat(e):o=-1,e.length&&v())}function v(){if(!t){var d=f(p);t=!0;for(var r=e.length;r;){for(s=e,e=[];++o<r;)s&&s[o].run();o=-1,r=e.length}s=null,t=!1,function y(d){if(i===clearTimeout)return clearTimeout(d);if((i===n||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(d);try{i(d)}catch{try{return i.call(null,d)}catch{return i.call(this,d)}}}(d)}}function w(d,r){this.fun=d,this.array=r}function u(){}var l,i,c=C.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:a}catch{l=a}try{i="function"==typeof clearTimeout?clearTimeout:n}catch{i=n}}();var s,e=[],t=!1,o=-1;c.nextTick=function(d){var r=new Array(arguments.length-1);if(arguments.length>1)for(var g=1;g<arguments.length;g++)r[g-1]=arguments[g];e.push(new w(d,r)),1!==e.length||t||f(v)},w.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=u,c.addListener=u,c.once=u,c.off=u,c.removeListener=u,c.removeAllListeners=u,c.emit=u,c.prependListener=u,c.prependOnceListener=u,c.listeners=function(d){return[]},c.binding=function(d){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(d){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(C,h,a){function f(l){function i(){if(i.enabled){var c=i,s=+new Date,e=s-(u||s);c.diff=e,c.prev=u,c.curr=s,u=s;for(var t=new Array(arguments.length),o=0;o<t.length;o++)t[o]=arguments[o];t[0]=h.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var d=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(g,b){if("%%"===g)return g;d++;var A=h.formatters[b];return"function"==typeof A&&(g=A.call(c,t[d]),t.splice(d,1),d--),g}),h.formatArgs.call(c,t);var r=i.log||h.log||console.log.bind(console);r.apply(c,t)}}return i.namespace=l,i.enabled=h.enabled(l),i.useColors=h.useColors(),i.color=function n(l){var i,c=0;for(i in l)c=(c<<5)-c+l.charCodeAt(i),c|=0;return h.colors[Math.abs(c)%h.colors.length]}(l),"function"==typeof h.init&&h.init(i),i}var u;(h=C.exports=f.debug=f.default=f).coerce=function w(l){return l instanceof Error?l.stack||l.message:l},h.disable=function p(){h.enable("")},h.enable=function y(l){h.save(l),h.names=[],h.skips=[];for(var i=("string"==typeof l?l:"").split(/[\s,]+/),c=i.length,s=0;s<c;s++)i[s]&&("-"===(l=i[s].replace(/\*/g,".*?"))[0]?h.skips.push(new RegExp("^"+l.substr(1)+"$")):h.names.push(new RegExp("^"+l+"$")))},h.enabled=function v(l){var i,c;for(i=0,c=h.skips.length;i<c;i++)if(h.skips[i].test(l))return!1;for(i=0,c=h.names.length;i<c;i++)if(h.names[i].test(l))return!0;return!1},h.humanize=a(6),h.names=[],h.skips=[],h.formatters={}},function(C,h){function y(i,c,s){if(!(i<c))return i<1.5*c?Math.floor(i/c)+" "+s:Math.ceil(i/c)+" "+s+"s"}var p=1e3,v=60*p,w=60*v,u=24*w;C.exports=function(i,c){c=c||{};var s=typeof i;if("string"===s&&i.length>0)return function a(i){if(!((i=String(i)).length>100)){var c=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(i);if(c){var s=parseFloat(c[1]);switch((c[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*u;case"hours":case"hour":case"hrs":case"hr":case"h":return s*w;case"minutes":case"minute":case"mins":case"min":case"m":return s*v;case"seconds":case"second":case"secs":case"sec":case"s":return s*p;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(i);if("number"===s&&!1===isNaN(i))return c.long?function f(i){return y(i,u,"day")||y(i,w,"hour")||y(i,v,"minute")||y(i,p,"second")||i+" ms"}(i):function n(i){return i>=u?Math.round(i/u)+"d":i>=w?Math.round(i/w)+"h":i>=v?Math.round(i/v)+"m":i>=p?Math.round(i/p)+"s":i+"ms"}(i);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(i))}},function(C,h,a){function n(){}function f(o){var d=""+o.type;return h.BINARY_EVENT!==o.type&&h.BINARY_ACK!==o.type||(d+=o.attachments+"-"),o.nsp&&"/"!==o.nsp&&(d+=o.nsp+","),null!=o.id&&(d+=o.id),null!=o.data&&(d+=JSON.stringify(o.data)),i("encoded %j as %s",o,d),d}function p(){this.reconstructor=null}function u(o){this.reconPack=o,this.buffers=[]}function l(){return{type:h.ERROR,data:"parser error"}}var i=a(3)("socket.io-parser"),c=a(8),s=a(9),e=a(11),t=a(12);h.protocol=4,h.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],h.CONNECT=0,h.DISCONNECT=1,h.EVENT=2,h.ACK=3,h.ERROR=4,h.BINARY_EVENT=5,h.BINARY_ACK=6,h.Encoder=n,h.Decoder=p,n.prototype.encode=function(o,d){o.type!==h.EVENT&&o.type!==h.ACK||!s(o.data)||(o.type=o.type===h.EVENT?h.BINARY_EVENT:h.BINARY_ACK),i("encoding packet %j",o),h.BINARY_EVENT===o.type||h.BINARY_ACK===o.type?function y(o,d){e.removeBlobs(o,function r(g){var b=e.deconstructPacket(g),A=f(b.packet),E=b.buffers;E.unshift(A),d(E)})}(o,d):d([f(o)])},c(p.prototype),p.prototype.add=function(o){var d;if("string"==typeof o)d=function v(o){var d=0,r={type:Number(o.charAt(0))};if(null==h.types[r.type])return l();if(h.BINARY_EVENT===r.type||h.BINARY_ACK===r.type){for(var g="";"-"!==o.charAt(++d)&&(g+=o.charAt(d),d!=o.length););if(g!=Number(g)||"-"!==o.charAt(d))throw new Error("Illegal attachments");r.attachments=Number(g)}if("/"===o.charAt(d+1))for(r.nsp="";++d&&","!==(b=o.charAt(d))&&(r.nsp+=b,d!==o.length););else r.nsp="/";var A=o.charAt(d+1);if(""!==A&&Number(A)==A){for(r.id="";++d;){var b;if(null==(b=o.charAt(d))||Number(b)!=b){--d;break}if(r.id+=o.charAt(d),d===o.length)break}r.id=Number(r.id)}return o.charAt(++d)&&(r=function w(o,d){try{o.data=JSON.parse(d)}catch{return l()}return o}(r,o.substr(d))),i("decoded %s as %j",o,r),r}(o),h.BINARY_EVENT===d.type||h.BINARY_ACK===d.type?(this.reconstructor=new u(d),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",d)):this.emit("decoded",d);else{if(!t(o)&&!o.base64)throw new Error("Unknown type: "+o);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(d=this.reconstructor.takeBinaryData(o))&&(this.reconstructor=null,this.emit("decoded",d))}},p.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},u.prototype.takeBinaryData=function(o){if(this.buffers.push(o),this.buffers.length===this.reconPack.attachments){var d=e.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),d}return null},u.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(C,h,a){function n(y){if(y)return function f(y){for(var p in n.prototype)y[p]=n.prototype[p];return y}(y)}C.exports=n,n.prototype.on=n.prototype.addEventListener=function(y,p){return this._callbacks=this._callbacks||{},(this._callbacks["$"+y]=this._callbacks["$"+y]||[]).push(p),this},n.prototype.once=function(y,p){function v(){this.off(y,v),p.apply(this,arguments)}return v.fn=p,this.on(y,v),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(y,p){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var v=this._callbacks["$"+y];if(!v)return this;if(1==arguments.length)return delete this._callbacks["$"+y],this;for(var w,u=0;u<v.length;u++)if((w=v[u])===p||w.fn===p){v.splice(u,1);break}return this},n.prototype.emit=function(y){this._callbacks=this._callbacks||{};var p=[].slice.call(arguments,1),v=this._callbacks["$"+y];if(v)for(var w=0,u=(v=v.slice(0)).length;w<u;++w)v[w].apply(this,p);return this},n.prototype.listeners=function(y){return this._callbacks=this._callbacks||{},this._callbacks["$"+y]||[]},n.prototype.hasListeners=function(y){return!!this.listeners(y).length}},function(C,h,a){(function(n){var y=a(10),p=Object.prototype.toString,v="function"==typeof n.Blob||"[object BlobConstructor]"===p.call(n.Blob),w="function"==typeof n.File||"[object FileConstructor]"===p.call(n.File);C.exports=function f(u){if(!u||"object"!=typeof u)return!1;if(y(u)){for(var l=0,i=u.length;l<i;l++)if(f(u[l]))return!0;return!1}if("function"==typeof n.Buffer&&n.Buffer.isBuffer&&n.Buffer.isBuffer(u)||"function"==typeof n.ArrayBuffer&&u instanceof ArrayBuffer||v&&u instanceof Blob||w&&u instanceof File)return!0;if(u.toJSON&&"function"==typeof u.toJSON&&1===arguments.length)return f(u.toJSON(),!0);for(var c in u)if(Object.prototype.hasOwnProperty.call(u,c)&&f(u[c]))return!0;return!1}}).call(h,function(){return this}())},function(C,h){var a={}.toString;C.exports=Array.isArray||function(n){return"[object Array]"==a.call(n)}},function(C,h,a){(function(n){function f(i,c){if(!i)return i;if(v(i)){var s={_placeholder:!0,num:c.length};return c.push(i),s}if(p(i)){for(var e=new Array(i.length),t=0;t<i.length;t++)e[t]=f(i[t],c);return e}if("object"==typeof i&&!(i instanceof Date)){for(var o in e={},i)e[o]=f(i[o],c);return e}return i}function y(i,c){if(!i)return i;if(i&&i._placeholder)return c[i.num];if(p(i))for(var s=0;s<i.length;s++)i[s]=y(i[s],c);else if("object"==typeof i)for(var e in i)i[e]=y(i[e],c);return i}var p=a(10),v=a(12),w=Object.prototype.toString,u="function"==typeof n.Blob||"[object BlobConstructor]"===w.call(n.Blob),l="function"==typeof n.File||"[object FileConstructor]"===w.call(n.File);h.deconstructPacket=function(i){var c=[],e=i;return e.data=f(i.data,c),e.attachments=c.length,{packet:e,buffers:c}},h.reconstructPacket=function(i,c){return i.data=y(i.data,c),i.attachments=void 0,i},h.removeBlobs=function(i,c){var e=0,t=i;(function s(o,d,r){if(!o)return o;if(u&&o instanceof Blob||l&&o instanceof File){e++;var g=new FileReader;g.onload=function(){r?r[d]=this.result:t=this.result,--e||c(t)},g.readAsArrayBuffer(o)}else if(p(o))for(var b=0;b<o.length;b++)s(o[b],b,o);else if("object"==typeof o&&!v(o))for(var A in o)s(o[A],A,o)})(t),e||c(t)}}).call(h,function(){return this}())},function(C,h){(function(a){C.exports=function n(f){return a.Buffer&&a.Buffer.isBuffer(f)||a.ArrayBuffer&&f instanceof ArrayBuffer}}).call(h,function(){return this}())},function(C,h,a){"use strict";function n(t,o){if(!(this instanceof n))return new n(t,o);t&&"object"===(typeof t>"u"?"undefined":f(t))&&(o=t,t=void 0),(o=o||{}).path=o.path||"/socket.io",this.nsps={},this.subs=[],this.opts=o,this.reconnection(!1!==o.reconnection),this.reconnectionAttempts(o.reconnectionAttempts||1/0),this.reconnectionDelay(o.reconnectionDelay||1e3),this.reconnectionDelayMax(o.reconnectionDelayMax||5e3),this.randomizationFactor(o.randomizationFactor||.5),this.backoff=new s({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==o.timeout?2e4:o.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var d=o.parser||w;this.encoder=new d.Encoder,this.decoder=new d.Decoder,this.autoConnect=!1!==o.autoConnect,this.autoConnect&&this.open()}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y=a(14),p=a(39),v=a(8),w=a(7),u=a(41),l=a(42),i=a(3)("socket.io-client:manager"),c=a(37),s=a(43),e=Object.prototype.hasOwnProperty;C.exports=n,n.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)e.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},n.prototype.updateSocketIds=function(){for(var t in this.nsps)e.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},n.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},v(n.prototype),n.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},n.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},n.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},n.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},n.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},n.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},n.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},n.prototype.open=n.prototype.connect=function(t,o){if(i("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;i("opening %s",this.uri),this.engine=y(this.uri,this.opts);var d=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var g=u(d,"open",function(){r.onopen(),t&&t()}),b=u(d,"error",function(m){if(i("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",m),t){var k=new Error("Connection error");k.data=m,t(k)}else r.maybeReconnectOnOpen()});if(!1!==this._timeout){var A=this._timeout;i("connect attempt will timeout after %d",A);var E=setTimeout(function(){i("connect attempt timed out after %d",A),g.destroy(),d.close(),d.emit("error","timeout"),r.emitAll("connect_timeout",A)},A);this.subs.push({destroy:function(){clearTimeout(E)}})}return this.subs.push(g),this.subs.push(b),this},n.prototype.onopen=function(){i("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(u(t,"data",l(this,"ondata"))),this.subs.push(u(t,"ping",l(this,"onping"))),this.subs.push(u(t,"pong",l(this,"onpong"))),this.subs.push(u(t,"error",l(this,"onerror"))),this.subs.push(u(t,"close",l(this,"onclose"))),this.subs.push(u(this.decoder,"decoded",l(this,"ondecoded")))},n.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},n.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},n.prototype.ondata=function(t){this.decoder.add(t)},n.prototype.ondecoded=function(t){this.emit("packet",t)},n.prototype.onerror=function(t){i("error",t),this.emitAll("error",t)},n.prototype.socket=function(t,o){function d(){~c(g.connecting,r)||g.connecting.push(r)}var r=this.nsps[t];if(!r){r=new p(this,t,o),this.nsps[t]=r;var g=this;r.on("connecting",d),r.on("connect",function(){r.id=g.generateId(t)}),this.autoConnect&&d()}return r},n.prototype.destroy=function(t){var o=c(this.connecting,t);~o&&this.connecting.splice(o,1),this.connecting.length||this.close()},n.prototype.packet=function(t){i("writing packet %j",t);var o=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),o.encoding?o.packetBuffer.push(t):(o.encoding=!0,this.encoder.encode(t,function(d){for(var r=0;r<d.length;r++)o.engine.write(d[r],t.options);o.encoding=!1,o.processPacketQueue()}))},n.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},n.prototype.cleanup=function(){i("cleanup");for(var t=this.subs.length,o=0;o<t;o++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},n.prototype.close=n.prototype.disconnect=function(){i("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},n.prototype.onclose=function(t){i("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},n.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)i("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var o=this.backoff.duration();i("will wait %dms before reconnect attempt",o),this.reconnecting=!0;var d=setTimeout(function(){t.skipReconnect||(i("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(r){r?(i("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",r.data)):(i("reconnect success"),t.onreconnect())}))},o);this.subs.push({destroy:function(){clearTimeout(d)}})}},n.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},function(C,h,a){C.exports=a(15)},function(C,h,a){C.exports=a(16),C.exports.parser=a(23)},function(C,h,a){(function(n){function f(e,t){if(!(this instanceof f))return new f(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=i(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=i(t.host).host),this.secure=null!=t.secure?t.secure:n.location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(n.location?location.hostname:"localhost"),this.port=t.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=s.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode;var o="object"==typeof n&&n;o.global===o&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}var p=a(17),v=a(8),w=a(3)("engine.io-client:socket"),u=a(37),l=a(23),i=a(2),c=a(38),s=a(31);C.exports=f,f.priorWebsocketSuccess=!1,v(f.prototype),f.protocol=l.protocol,f.Socket=f,f.Transport=a(22),f.transports=a(17),f.parser=a(23),f.prototype.createTransport=function(e){w('creating transport "%s"',e);var t=function y(e){var t={};for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}(this.query);t.EIO=l.protocol,t.transport=e;var o=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new p[e]({query:t,socket:this,agent:o.agent||this.agent,hostname:o.hostname||this.hostname,port:o.port||this.port,secure:o.secure||this.secure,path:o.path||this.path,forceJSONP:o.forceJSONP||this.forceJSONP,jsonp:o.jsonp||this.jsonp,forceBase64:o.forceBase64||this.forceBase64,enablesXDR:o.enablesXDR||this.enablesXDR,timestampRequests:o.timestampRequests||this.timestampRequests,timestampParam:o.timestampParam||this.timestampParam,policyPort:o.policyPort||this.policyPort,pfx:o.pfx||this.pfx,key:o.key||this.key,passphrase:o.passphrase||this.passphrase,cert:o.cert||this.cert,ca:o.ca||this.ca,ciphers:o.ciphers||this.ciphers,rejectUnauthorized:o.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:o.perMessageDeflate||this.perMessageDeflate,extraHeaders:o.extraHeaders||this.extraHeaders,forceNode:o.forceNode||this.forceNode,localAddress:o.localAddress||this.localAddress,requestTimeout:o.requestTimeout||this.requestTimeout,protocols:o.protocols||void 0})},f.prototype.open=function(){var e;if(this.rememberUpgrade&&f.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch{return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},f.prototype.setTransport=function(e){w("setting transport %s",e.name);var t=this;this.transport&&(w("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(o){t.onPacket(o)}).on("error",function(o){t.onError(o)}).on("close",function(){t.onClose("transport close")})},f.prototype.probe=function(e){function t(){k.onlyBinaryUpgrades&&(m=m||!this.supportsBinary&&k.transport.supportsBinary),m||(w('probe transport "%s" opened',e),E.send([{type:"ping",data:"probe"}]),E.once("packet",function(S){if(!m)if("pong"===S.type&&"probe"===S.data){if(w('probe transport "%s" pong',e),k.upgrading=!0,k.emit("upgrading",E),!E)return;f.priorWebsocketSuccess="websocket"===E.name,w('pausing current transport "%s"',k.transport.name),k.transport.pause(function(){m||"closed"!==k.readyState&&(w("changing transport and sending upgrade packet"),A(),k.setTransport(E),E.send([{type:"upgrade"}]),k.emit("upgrade",E),E=null,k.upgrading=!1,k.flush())})}else{w('probe transport "%s" failed',e);var _=new Error("probe error");_.transport=E.name,k.emit("upgradeError",_)}}))}function o(){m||(m=!0,A(),E.close(),E=null)}function d(x){var S=new Error("probe error: "+x);S.transport=E.name,o(),w('probe transport "%s" failed because of error: %s',e,x),k.emit("upgradeError",S)}function r(){d("transport closed")}function g(){d("socket closed")}function b(x){E&&x.name!==E.name&&(w('"%s" works - aborting "%s"',x.name,E.name),o())}function A(){E.removeListener("open",t),E.removeListener("error",d),E.removeListener("close",r),k.removeListener("close",g),k.removeListener("upgrading",b)}w('probing transport "%s"',e);var E=this.createTransport(e,{probe:1}),m=!1,k=this;f.priorWebsocketSuccess=!1,E.once("open",t),E.once("error",d),E.once("close",r),this.once("close",g),this.once("upgrading",b),E.open()},f.prototype.onOpen=function(){if(w("socket open"),this.readyState="open",f.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){w("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},f.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(w('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(c(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else w('packet received with socket readyState "%s"',this.readyState)},f.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},f.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},f.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){w("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},f.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},f.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},f.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(w("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},f.prototype.write=f.prototype.send=function(e,t,o){return this.sendPacket("message",e,t,o),this},f.prototype.sendPacket=function(e,t,o,d){if("function"==typeof t&&(d=t,t=void 0),"function"==typeof o&&(d=o,o=null),"closing"!==this.readyState&&"closed"!==this.readyState){(o=o||{}).compress=!1!==o.compress;var r={type:e,data:t,options:o};this.emit("packetCreate",r),this.writeBuffer.push(r),d&&this.once("flush",d),this.flush()}},f.prototype.close=function(){function e(){d.onClose("forced close"),w("socket closing - telling transport to close"),d.transport.close()}function t(){d.removeListener("upgrade",t),d.removeListener("upgradeError",t),e()}function o(){d.once("upgrade",t),d.once("upgradeError",t)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var d=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?o():e()}):this.upgrading?o():e()}return this},f.prototype.onError=function(e){w("socket error %j",e),f.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},f.prototype.onClose=function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(w('socket close with reason: "%s"',e),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)},f.prototype.filterUpgrades=function(e){for(var t=[],o=0,d=e.length;o<d;o++)~u(this.transports,e[o])&&t.push(e[o]);return t}}).call(h,function(){return this}())},function(C,h,a){(function(n){var y=a(18),p=a(20),v=a(34),w=a(35);h.polling=function f(u){var i=!1,c=!1,s=!1!==u.jsonp;if(n.location){var e="https:"===location.protocol,t=location.port;t||(t=e?443:80),i=u.hostname!==location.hostname||t!==u.port,c=u.secure!==e}if(u.xdomain=i,u.xscheme=c,"open"in new y(u)&&!u.forceJSONP)return new p(u);if(!s)throw new Error("JSONP disabled");return new v(u)},h.websocket=w}).call(h,function(){return this}())},function(C,h,a){(function(n){var f=a(19);C.exports=function(y){var p=y.xdomain,v=y.xscheme,w=y.enablesXDR;try{if(typeof XMLHttpRequest<"u"&&(!p||f))return new XMLHttpRequest}catch{}try{if(typeof XDomainRequest<"u"&&!v&&w)return new XDomainRequest}catch{}if(!p)try{return new(n[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}}).call(h,function(){return this}())},function(C,h){try{C.exports=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{C.exports=!1}},function(C,h,a){(function(n){function f(){}function y(s){if(u.call(this,s),this.requestTimeout=s.requestTimeout,this.extraHeaders=s.extraHeaders,n.location){var e="https:"===location.protocol,t=location.port;t||(t=e?443:80),this.xd=s.hostname!==n.location.hostname||t!==s.port,this.xs=s.secure!==e}}function p(s){this.method=s.method||"GET",this.uri=s.uri,this.xd=!!s.xd,this.xs=!!s.xs,this.async=!1!==s.async,this.data=void 0!==s.data?s.data:null,this.agent=s.agent,this.isBinary=s.isBinary,this.supportsBinary=s.supportsBinary,this.enablesXDR=s.enablesXDR,this.requestTimeout=s.requestTimeout,this.pfx=s.pfx,this.key=s.key,this.passphrase=s.passphrase,this.cert=s.cert,this.ca=s.ca,this.ciphers=s.ciphers,this.rejectUnauthorized=s.rejectUnauthorized,this.extraHeaders=s.extraHeaders,this.create()}function v(){for(var s in p.requests)p.requests.hasOwnProperty(s)&&p.requests[s].abort()}var w=a(18),u=a(21),l=a(8),i=a(32),c=a(3)("engine.io-client:polling-xhr");C.exports=y,C.exports.Request=p,i(y,u),y.prototype.supportsBinary=!0,y.prototype.request=function(s){return(s=s||{}).uri=this.uri(),s.xd=this.xd,s.xs=this.xs,s.agent=this.agent||!1,s.supportsBinary=this.supportsBinary,s.enablesXDR=this.enablesXDR,s.pfx=this.pfx,s.key=this.key,s.passphrase=this.passphrase,s.cert=this.cert,s.ca=this.ca,s.ciphers=this.ciphers,s.rejectUnauthorized=this.rejectUnauthorized,s.requestTimeout=this.requestTimeout,s.extraHeaders=this.extraHeaders,new p(s)},y.prototype.doWrite=function(s,e){var o=this.request({method:"POST",data:s,isBinary:"string"!=typeof s&&void 0!==s}),d=this;o.on("success",e),o.on("error",function(r){d.onError("xhr post error",r)}),this.sendXhr=o},y.prototype.doPoll=function(){c("xhr poll");var s=this.request(),e=this;s.on("data",function(t){e.onData(t)}),s.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=s},l(p.prototype),p.prototype.create=function(){var s={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};s.pfx=this.pfx,s.key=this.key,s.passphrase=this.passphrase,s.cert=this.cert,s.ca=this.ca,s.ciphers=this.ciphers,s.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new w(s),t=this;try{c("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var o in e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&e.setRequestHeader(o,this.extraHeaders[o])}catch{}if("POST"===this.method)try{e.setRequestHeader("Content-type",this.isBinary?"application/octet-stream":"text/plain;charset=UTF-8")}catch{}try{e.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in e&&(e.withCredentials=!0),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){t.onLoad()},e.onerror=function(){t.onError(e.responseText)}):e.onreadystatechange=function(){if(2===e.readyState){var d;try{d=e.getResponseHeader("Content-Type")}catch{}"application/octet-stream"===d&&(e.responseType="arraybuffer")}4===e.readyState&&(200===e.status||1223===e.status?t.onLoad():setTimeout(function(){t.onError(e.status)},0))},c("xhr data %s",this.data),e.send(this.data)}catch(d){return void setTimeout(function(){t.onError(d)},0)}n.document&&(this.index=p.requestsCount++,p.requests[this.index]=this)},p.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},p.prototype.onData=function(s){this.emit("data",s),this.onSuccess()},p.prototype.onError=function(s){this.emit("error",s),this.cleanup(!0)},p.prototype.cleanup=function(s){if(typeof this.xhr<"u"&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=f:this.xhr.onreadystatechange=f,s)try{this.xhr.abort()}catch{}n.document&&delete p.requests[this.index],this.xhr=null}},p.prototype.onLoad=function(){var s;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch{}s="application/octet-stream"===e&&this.xhr.response||this.xhr.responseText}catch(t){this.onError(t)}null!=s&&this.onData(s)},p.prototype.hasXDR=function(){return typeof n.XDomainRequest<"u"&&!this.xs&&this.enablesXDR},p.prototype.abort=function(){this.cleanup()},p.requestsCount=0,p.requests={},n.document&&(n.attachEvent?n.attachEvent("onunload",v):n.addEventListener&&n.addEventListener("beforeunload",v,!1))}).call(h,function(){return this}())},function(C,h,a){function n(i){l&&!(i&&i.forceBase64)||(this.supportsBinary=!1),f.call(this,i)}var f=a(22),y=a(31),p=a(23),v=a(32),w=a(33),u=a(3)("engine.io-client:polling");C.exports=n;var l=null!=new(a(18))({xdomain:!1}).responseType;v(n,f),n.prototype.name="polling",n.prototype.doOpen=function(){this.poll()},n.prototype.pause=function(i){function c(){u("paused"),s.readyState="paused",i()}var s=this;if(this.readyState="pausing",this.polling||!this.writable){var e=0;this.polling&&(u("we are currently polling - waiting to pause"),e++,this.once("pollComplete",function(){u("pre-pause polling complete"),--e||c()})),this.writable||(u("we are currently writing - waiting to pause"),e++,this.once("drain",function(){u("pre-pause writing complete"),--e||c()}))}else c()},n.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},n.prototype.onData=function(i){var c=this;u("polling got data %s",i),p.decodePayload(i,this.socket.binaryType,function(e,t,o){return"opening"===c.readyState&&c.onOpen(),"close"===e.type?(c.onClose(),!1):void c.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},n.prototype.doClose=function(){function i(){u("writing close packet"),c.write([{type:"close"}])}var c=this;"open"===this.readyState?(u("transport open - closing"),i()):(u("transport not open - deferring close"),this.once("open",i))},n.prototype.write=function(i){var c=this;this.writable=!1;var s=function(){c.writable=!0,c.emit("drain")};p.encodePayload(i,this.supportsBinary,function(e){c.doWrite(e,s)})},n.prototype.uri=function(){var i=this.query||{},c=this.secure?"https":"http",s="";return!1!==this.timestampRequests&&(i[this.timestampParam]=w()),this.supportsBinary||i.sid||(i.b64=1),i=y.encode(i),this.port&&("https"===c&&443!==Number(this.port)||"http"===c&&80!==Number(this.port))&&(s=":"+this.port),i.length&&(i="?"+i),c+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+s+this.path+i}},function(C,h,a){function n(p){this.path=p.path,this.hostname=p.hostname,this.port=p.port,this.secure=p.secure,this.query=p.query,this.timestampParam=p.timestampParam,this.timestampRequests=p.timestampRequests,this.readyState="",this.agent=p.agent||!1,this.socket=p.socket,this.enablesXDR=p.enablesXDR,this.pfx=p.pfx,this.key=p.key,this.passphrase=p.passphrase,this.cert=p.cert,this.ca=p.ca,this.ciphers=p.ciphers,this.rejectUnauthorized=p.rejectUnauthorized,this.forceNode=p.forceNode,this.extraHeaders=p.extraHeaders,this.localAddress=p.localAddress}var f=a(23),y=a(8);C.exports=n,y(n.prototype),n.prototype.onError=function(p,v){var w=new Error(p);return w.type="TransportError",w.description=v,this.emit("error",w),this},n.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},n.prototype.send=function(p){if("open"!==this.readyState)throw new Error("Transport not open");this.write(p)},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(p){var v=f.decodePacket(p,this.socket.binaryType);this.onPacket(v)},n.prototype.onPacket=function(p){this.emit("packet",p)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(C,h,a){(function(n){function u(m,k,x){for(var S=new Array(m.length),_=e(m.length,x),T=function(j,q,O){k(q,function(R,P){S[j]=P,O(R,S)})},B=0;B<m.length;B++)T(B,m[B],_)}var l,i=a(24),c=a(9),s=a(25),e=a(26),t=a(27);n&&n.ArrayBuffer&&(l=a(29));var o=typeof navigator<"u"&&/Android/i.test(navigator.userAgent),d=typeof navigator<"u"&&/PhantomJS/i.test(navigator.userAgent),r=o||d;h.protocol=3;var g=h.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},b=i(g),A={type:"error",data:"parser error"},E=a(30);h.encodePacket=function(m,k,x,S){"function"==typeof k&&(S=k,k=!1),"function"==typeof x&&(S=x,x=null);var _=void 0===m.data?void 0:m.data.buffer||m.data;if(n.ArrayBuffer&&_ instanceof ArrayBuffer)return function y(m,k,x){if(!k)return h.encodeBase64Packet(m,x);var S=m.data,_=new Uint8Array(S),T=new Uint8Array(1+S.byteLength);T[0]=g[m.type];for(var B=0;B<_.length;B++)T[B+1]=_[B];return x(T.buffer)}(m,k,S);if(E&&_ instanceof n.Blob)return function v(m,k,x){if(!k)return h.encodeBase64Packet(m,x);if(r)return function p(m,k,x){if(!k)return h.encodeBase64Packet(m,x);var S=new FileReader;return S.onload=function(){m.data=S.result,h.encodePacket(m,k,!0,x)},S.readAsArrayBuffer(m.data)}(m,k,x);var S=new Uint8Array(1);return S[0]=g[m.type],x(new E([S.buffer,m.data]))}(m,k,S);if(_&&_.base64)return function f(m,k){return k("b"+h.packets[m.type]+m.data.data)}(m,S);var T=g[m.type];return void 0!==m.data&&(T+=x?t.encode(String(m.data),{strict:!1}):String(m.data)),S(""+T)},h.encodeBase64Packet=function(m,k){var _,x="b"+h.packets[m.type];if(E&&m.data instanceof n.Blob){var S=new FileReader;return S.onload=function(){var q=S.result.split(",")[1];k(x+q)},S.readAsDataURL(m.data)}try{_=String.fromCharCode.apply(null,new Uint8Array(m.data))}catch{for(var T=new Uint8Array(m.data),B=new Array(T.length),j=0;j<T.length;j++)B[j]=T[j];_=String.fromCharCode.apply(null,B)}return x+=n.btoa(_),k(x)},h.decodePacket=function(m,k,x){if(void 0===m)return A;if("string"==typeof m){if("b"===m.charAt(0))return h.decodeBase64Packet(m.substr(1),k);if(x&&!1===(m=function w(m){try{m=t.decode(m,{strict:!1})}catch{return!1}return m}(m)))return A;var _=m.charAt(0);return Number(_)==_&&b[_]?m.length>1?{type:b[_],data:m.substring(1)}:{type:b[_]}:A}_=new Uint8Array(m)[0];var T=s(m,1);return E&&"blob"===k&&(T=new E([T])),{type:b[_],data:T}},h.decodeBase64Packet=function(m,k){var x=b[m.charAt(0)];if(!l)return{type:x,data:{base64:!0,data:m.substr(1)}};var S=l.decode(m.substr(1));return"blob"===k&&E&&(S=new E([S])),{type:x,data:S}},h.encodePayload=function(m,k,x){"function"==typeof k&&(x=k,k=null);var T=c(m);return k&&T?E&&!r?h.encodePayloadAsBlob(m,x):h.encodePayloadAsArrayBuffer(m,x):m.length?void u(m,function _(B,j){h.encodePacket(B,!!T&&k,!1,function(q){j(null,function S(B){return B.length+":"+B}(q))})},function(B,j){return x(j.join(""))}):x("0:")},h.decodePayload=function(m,k,x){if("string"!=typeof m)return h.decodePayloadAsBinary(m,k,x);var S;if("function"==typeof k&&(x=k,k=null),""===m)return x(A,0,1);for(var _,T,B="",j=0,q=m.length;j<q;j++){var O=m.charAt(j);if(":"===O){if(""===B||B!=(_=Number(B))||B!=(T=m.substr(j+1,_)).length)return x(A,0,1);if(T.length){if(S=h.decodePacket(T,k,!1),A.type===S.type&&A.data===S.data)return x(A,0,1);if(!1===x(S,j+_,q))return}j+=_,B=""}else B+=O}return""!==B?x(A,0,1):void 0},h.encodePayloadAsArrayBuffer=function(m,k){return m.length?void u(m,function x(S,_){h.encodePacket(S,!0,!0,function(T){return _(null,T)})},function(S,_){var T=_.reduce(function(q,O){var R;return q+(R="string"==typeof O?O.length:O.byteLength).toString().length+R+2},0),B=new Uint8Array(T),j=0;return _.forEach(function(q){var O="string"==typeof q,R=q;if(O){for(var P=new Uint8Array(q.length),N=0;N<q.length;N++)P[N]=q.charCodeAt(N);R=P.buffer}B[j++]=O?0:1;var D=R.byteLength.toString();for(N=0;N<D.length;N++)B[j++]=parseInt(D[N]);for(B[j++]=255,P=new Uint8Array(R),N=0;N<P.length;N++)B[j++]=P[N]}),k(B.buffer)}):k(new ArrayBuffer(0))},h.encodePayloadAsBlob=function(m,k){u(m,function x(S,_){h.encodePacket(S,!0,!0,function(T){var B=new Uint8Array(1);if(B[0]=1,"string"==typeof T){for(var j=new Uint8Array(T.length),q=0;q<T.length;q++)j[q]=T.charCodeAt(q);T=j.buffer,B[0]=0}var R=(T instanceof ArrayBuffer?T.byteLength:T.size).toString(),P=new Uint8Array(R.length+1);for(q=0;q<R.length;q++)P[q]=parseInt(R[q]);if(P[R.length]=255,E){var N=new E([B.buffer,P.buffer,T]);_(null,N)}})},function(S,_){return k(new E(_))})},h.decodePayloadAsBinary=function(m,k,x){"function"==typeof k&&(x=k,k=null);for(var S=m,_=[];S.byteLength>0;){for(var T=new Uint8Array(S),B=0===T[0],j="",q=1;255!==T[q];q++){if(j.length>310)return x(A,0,1);j+=T[q]}S=s(S,2+j.length),j=parseInt(j);var O=s(S,0,j);if(B)try{O=String.fromCharCode.apply(null,new Uint8Array(O))}catch{var R=new Uint8Array(O);for(O="",q=0;q<R.length;q++)O+=String.fromCharCode(R[q])}_.push(O),S=s(S,j)}var P=_.length;_.forEach(function(N,D){x(h.decodePacket(N,k,!0),D,P)})}}).call(h,function(){return this}())},function(C,h){C.exports=Object.keys||function(a){var n=[],f=Object.prototype.hasOwnProperty;for(var y in a)f.call(a,y)&&n.push(y);return n}},function(C,h){C.exports=function(a,n,f){var y=a.byteLength;if(n=n||0,f=f||y,a.slice)return a.slice(n,f);if(n<0&&(n+=y),f<0&&(f+=y),f>y&&(f=y),n>=y||n>=f||0===y)return new ArrayBuffer(0);for(var p=new Uint8Array(a),v=new Uint8Array(f-n),w=n,u=0;w<f;w++,u++)v[u]=p[w];return v.buffer}},function(C,h){function n(){}C.exports=function a(f,y,p){function v(u,l){if(v.count<=0)throw new Error("after called too many times");--v.count,u?(w=!0,y(u),y=p):0!==v.count||w||y(null,l)}var w=!1;return p=p||n,v.count=f,0===f?y():v}},function(C,h,a){var n;(function(f,y){!function(p){function v(m){for(var k,x,S=[],_=0,T=m.length;_<T;)(k=m.charCodeAt(_++))>=55296&&k<=56319&&_<T?56320==(64512&(x=m.charCodeAt(_++)))?S.push(((1023&k)<<10)+(1023&x)+65536):(S.push(k),_--):S.push(k);return S}function u(m,k){if(m>=55296&&m<=57343){if(k)throw Error("Lone surrogate U+"+m.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function l(m,k){return A(m>>k&63|128)}function i(m,k){if(0==(4294967168&m))return A(m);var x="";return 0==(4294965248&m)?x=A(m>>6&31|192):0==(4294901760&m)?(u(m,k)||(m=65533),x=A(m>>12&15|224),x+=l(m,6)):0==(4292870144&m)&&(x=A(m>>18&7|240),x+=l(m,12),x+=l(m,6)),x+A(63&m|128)}function s(){if(b>=g)throw Error("Invalid byte index");var m=255&r[b];if(b++,128==(192&m))return 63&m;throw Error("Invalid continuation byte")}function e(m){var k,T;if(b>g)throw Error("Invalid byte index");if(b==g)return!1;if(k=255&r[b],b++,0==(128&k))return k;if(192==(224&k)){if((T=(31&k)<<6|s())>=128)return T;throw Error("Invalid continuation byte")}if(224==(240&k)){if((T=(15&k)<<12|s()<<6|s())>=2048)return u(T,m)?T:65533;throw Error("Invalid continuation byte")}if(240==(248&k)&&(T=(7&k)<<18|s()<<12|s()<<6|s())>=65536&&T<=1114111)return T;throw Error("Invalid UTF-8 detected")}var r,g,b,A=String.fromCharCode,E={version:"2.1.2",encode:function c(m,k){for(var S=!1!==(k=k||{}).strict,_=v(m),T=_.length,B=-1,j="";++B<T;)j+=i(_[B],S);return j},decode:function t(m,k){var x=!1!==(k=k||{}).strict;r=v(m),g=r.length,b=0;for(var S,_=[];!1!==(S=e(x));)_.push(S);return function w(m){for(var k,x=m.length,S=-1,_="";++S<x;)(k=m[S])>65535&&(_+=A((k-=65536)>>>10&1023|55296),k=56320|1023&k),_+=A(k);return _}(_)}};void 0!==(n=function(){return E}.call(h,a,h,f))&&(f.exports=n)}()}).call(h,a(28)(C),function(){return this}())},function(C,h){C.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children=[],a.webpackPolyfill=1),a}},function(C,h){!function(){"use strict";for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),f=0;f<a.length;f++)n[a.charCodeAt(f)]=f;h.encode=function(y){var p,v=new Uint8Array(y),w=v.length,u="";for(p=0;p<w;p+=3)u+=a[v[p]>>2],u+=a[(3&v[p])<<4|v[p+1]>>4],u+=a[(15&v[p+1])<<2|v[p+2]>>6],u+=a[63&v[p+2]];return w%3==2?u=u.substring(0,u.length-1)+"=":w%3==1&&(u=u.substring(0,u.length-2)+"=="),u},h.decode=function(y){var p,v,w,u,l,i=.75*y.length,c=y.length,s=0;"="===y[y.length-1]&&(i--,"="===y[y.length-2]&&i--);var e=new ArrayBuffer(i),t=new Uint8Array(e);for(p=0;p<c;p+=4)v=n[y.charCodeAt(p)],w=n[y.charCodeAt(p+1)],u=n[y.charCodeAt(p+2)],l=n[y.charCodeAt(p+3)],t[s++]=v<<2|w>>4,t[s++]=(15&w)<<4|u>>2,t[s++]=(3&u)<<6|63&l;return e}}()},function(C,h){(function(a){function n(l){for(var i=0;i<l.length;i++){var c=l[i];if(c.buffer instanceof ArrayBuffer){var s=c.buffer;if(c.byteLength!==s.byteLength){var e=new Uint8Array(c.byteLength);e.set(new Uint8Array(s,c.byteOffset,c.byteLength)),s=e.buffer}l[i]=s}}}var p=a.BlobBuilder||a.WebKitBlobBuilder||a.MSBlobBuilder||a.MozBlobBuilder,v=function(){try{return 2===new Blob(["hi"]).size}catch{return!1}}(),w=v&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch{return!1}}();C.exports=v?w?a.Blob:function y(l,i){return n(l),new Blob(l,i||{})}:p&&p.prototype.append&&p.prototype.getBlob?function f(l,i){i=i||{};var c=new p;n(l);for(var s=0;s<l.length;s++)c.append(l[s]);return i.type?c.getBlob(i.type):c.getBlob()}:void 0}).call(h,function(){return this}())},function(C,h){h.encode=function(a){var n="";for(var f in a)a.hasOwnProperty(f)&&(n.length&&(n+="&"),n+=encodeURIComponent(f)+"="+encodeURIComponent(a[f]));return n},h.decode=function(a){for(var n={},f=a.split("&"),y=0,p=f.length;y<p;y++){var v=f[y].split("=");n[decodeURIComponent(v[0])]=decodeURIComponent(v[1])}return n}},function(C,h){C.exports=function(a,n){var f=function(){};f.prototype=n.prototype,a.prototype=new f,a.prototype.constructor=a}},function(C,h){"use strict";function a(i){var c="";do{c=p[i%v]+c,i=Math.floor(i/v)}while(i>0);return c}function f(){var i=a(+new Date);return i!==y?(u=0,y=i):i+"."+a(u++)}for(var y,p="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),v=64,w={},u=0,l=0;l<v;l++)w[p[l]]=l;f.encode=a,f.decode=function n(i){var c=0;for(l=0;l<i.length;l++)c=c*v+w[i.charAt(l)];return c},C.exports=f},function(C,h,a){(function(n){function f(){}function y(i){p.call(this,i),this.query=this.query||{},w||(n.___eio||(n.___eio=[]),w=n.___eio),this.index=w.length;var c=this;w.push(function(s){c.onData(s)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){c.script&&(c.script.onerror=f)},!1)}var p=a(21),v=a(32);C.exports=y;var w,u=/\n/g,l=/\\n/g;v(y,p),y.prototype.supportsBinary=!1,y.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),p.prototype.doClose.call(this)},y.prototype.doPoll=function(){var i=this,c=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),c.async=!0,c.src=this.uri(),c.onerror=function(t){i.onError("jsonp poll error",t)};var s=document.getElementsByTagName("script")[0];s?s.parentNode.insertBefore(c,s):(document.head||document.body).appendChild(c),this.script=c,typeof navigator<"u"&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},y.prototype.doWrite=function(i,c){function s(){e(),c()}function e(){if(t.iframe)try{t.form.removeChild(t.iframe)}catch(A){t.onError("jsonp polling iframe removal error",A)}try{o=document.createElement('<iframe src="javascript:0" name="'+t.iframeId+'">')}catch{(o=document.createElement("iframe")).name=t.iframeId,o.src="javascript:0"}o.id=t.iframeId,t.form.appendChild(o),t.iframe=o}var t=this;if(!this.form){var o,d=document.createElement("form"),r=document.createElement("textarea"),g=this.iframeId="eio_iframe_"+this.index;d.className="socketio",d.style.position="absolute",d.style.top="-1000px",d.style.left="-1000px",d.target=g,d.method="POST",d.setAttribute("accept-charset","utf-8"),r.name="d",d.appendChild(r),document.body.appendChild(d),this.form=d,this.area=r}this.form.action=this.uri(),e(),i=i.replace(l,"\\\n"),this.area.value=i.replace(u,"\\n");try{this.form.submit()}catch{}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===t.iframe.readyState&&s()}:this.iframe.onload=s}}).call(h,function(){return this}())},function(C,h,a){(function(n){function f(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=c&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(s=y),p.call(this,e)}var y,p=a(22),v=a(23),w=a(31),u=a(32),l=a(33),i=a(3)("engine.io-client:websocket"),c=n.WebSocket||n.MozWebSocket;if(typeof window>"u")try{y=a(36)}catch{}var s=c;s||typeof window<"u"||(s=y),C.exports=f,u(f,p),f.prototype.name="websocket",f.prototype.supportsBinary=!0,f.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,o={agent:this.agent,perMessageDeflate:this.perMessageDeflate};o.pfx=this.pfx,o.key=this.key,o.passphrase=this.passphrase,o.cert=this.cert,o.ca=this.ca,o.ciphers=this.ciphers,o.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(o.headers=this.extraHeaders),this.localAddress&&(o.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?t?new s(e,t):new s(e):new s(e,t,o)}catch(d){return this.emit("error",d)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},f.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},f.prototype.write=function(e){var o=this;this.writable=!1;for(var d=e.length,r=0,g=d;r<g;r++)!function(b){v.encodePacket(b,o.supportsBinary,function(A){if(!o.usingBrowserWebSocket){var E={};b.options&&(E.compress=b.options.compress),o.perMessageDeflate&&("string"==typeof A?n.Buffer.byteLength(A):A.length)<o.perMessageDeflate.threshold&&(E.compress=!1)}try{o.usingBrowserWebSocket?o.ws.send(A):o.ws.send(A,E)}catch{i("websocket closed before onclose event")}--d||(o.emit("flush"),setTimeout(function(){o.writable=!0,o.emit("drain")},0))})}(e[r])},f.prototype.onClose=function(){p.prototype.onClose.call(this)},f.prototype.doClose=function(){typeof this.ws<"u"&&this.ws.close()},f.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",o="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(o=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||(e.b64=1),(e=w.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+o+this.path+e},f.prototype.check=function(){return!(!s||"__initialize"in s&&this.name===f.prototype.name)}}).call(h,function(){return this}())},function(C,h){},function(C,h){var a=[].indexOf;C.exports=function(n,f){if(a)return n.indexOf(f);for(var y=0;y<n.length;++y)if(n[y]===f)return y;return-1}},function(C,h){(function(a){var n=/^[\],:{}\s]*$/,f=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,y=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,p=/(?:^|:|,)(?:\s*\[)+/g,v=/^\s+/,w=/\s+$/;C.exports=function(u){return"string"==typeof u&&u?(u=u.replace(v,"").replace(w,""),a.JSON&&JSON.parse?JSON.parse(u):n.test(u.replace(f,"@").replace(y,"]").replace(p,""))?new Function("return "+u)():void 0):null}}).call(h,function(){return this}())},function(C,h,a){"use strict";function n(e,t,o){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,o&&o.query&&(this.query=o.query),this.io.autoConnect&&this.open()}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=a(7),p=a(8),v=a(40),w=a(41),u=a(42),l=a(3)("socket.io-client:socket"),i=a(31);C.exports=n;var c={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},s=p.prototype.emit;p(n.prototype),n.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[w(e,"open",u(this,"onopen")),w(e,"packet",u(this,"onpacket")),w(e,"close",u(this,"onclose"))]}},n.prototype.open=n.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},n.prototype.send=function(){var e=v(arguments);return e.unshift("message"),this.emit.apply(this,e),this},n.prototype.emit=function(e){if(c.hasOwnProperty(e))return s.apply(this,arguments),this;var t=v(arguments),o={type:y.EVENT,data:t,options:{}};return o.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),o.id=this.ids++),this.connected?this.packet(o):this.sendBuffer.push(o),delete this.flags,this},n.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},n.prototype.onopen=function(){if(l("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"===f(this.query)?i.encode(this.query):this.query;l("sending connect packet with query %s",e),this.packet({type:y.CONNECT,query:e})}else this.packet({type:y.CONNECT})},n.prototype.onclose=function(e){l("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},n.prototype.onpacket=function(e){if(e.nsp===this.nsp)switch(e.type){case y.CONNECT:this.onconnect();break;case y.EVENT:case y.BINARY_EVENT:this.onevent(e);break;case y.ACK:case y.BINARY_ACK:this.onack(e);break;case y.DISCONNECT:this.ondisconnect();break;case y.ERROR:this.emit("error",e.data)}},n.prototype.onevent=function(e){var t=e.data||[];l("emitting event %j",t),null!=e.id&&(l("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?s.apply(this,t):this.receiveBuffer.push(t)},n.prototype.ack=function(e){var t=this,o=!1;return function(){if(!o){o=!0;var d=v(arguments);l("sending ack %j",d),t.packet({type:y.ACK,id:e,data:d})}}},n.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(l("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):l("bad ack %s",e.id)},n.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},n.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)s.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},n.prototype.ondisconnect=function(){l("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},n.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},n.prototype.close=n.prototype.disconnect=function(){return this.connected&&(l("performing disconnect (%s)",this.nsp),this.packet({type:y.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},n.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},function(C,h){C.exports=function a(n,f){for(var y=[],p=(f=f||0)||0;p<n.length;p++)y[p-f]=n[p];return y}},function(C,h){"use strict";C.exports=function a(n,f,y){return n.on(f,y),{destroy:function(){n.removeListener(f,y)}}}},function(C,h){var a=[].slice;C.exports=function(n,f){if("string"==typeof f&&(f=n[f]),"function"!=typeof f)throw new Error("bind() requires a function");var y=a.call(arguments,2);return function(){return f.apply(n,y.concat(a.call(arguments)))}}},function(C,h){function a(n){this.ms=(n=n||{}).min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}C.exports=a,a.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var f=Math.random(),y=Math.floor(f*this.jitter*n);n=0==(1&Math.floor(10*f))?n-y:n+y}return 0|Math.min(n,this.max)},a.prototype.reset=function(){this.attempts=0},a.prototype.setMin=function(n){this.ms=n},a.prototype.setMax=function(n){this.max=n},a.prototype.setJitter=function(n){this.jitter=n}}])}),function(){var C=["useCORSRouteToGetCookie","url","multiplex","transports","query","path","headers","initialConnectionHeaders","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","rejectUnauthorized","randomizationFactor","timeout"],h=["autoConnect","reconnection","environment","headers","url","transports","path"],n={version:"1.2.1",language:"javascript",platform:"object"==typeof module&&typeof module.exports<"u"?"node":"browser"};n.versionString="__sails_io_sdk_version="+n.version+"&__sails_io_sdk_platform="+n.platform+"&__sails_io_sdk_language="+n.language;var f=function(){if("object"!=typeof window||"object"!=typeof window.document||"function"!=typeof window.document.getElementsByTagName)return null;var u=window.document.getElementsByTagName("script");return u[u.length-1]}(),y="",p={};if(f){if(y=f.src,h.forEach(function(u){p[u]=function(){var l=f.getAttribute("data-"+u);if(l||(l=f.getAttribute(u)),"string"!=typeof l){if(null===l)return;throw new Error("sails.io.js :: Unexpected/invalid script tag configuration for `"+u+"`: `"+l+"` (a `"+typeof l+"`). Should be a string.")}try{return JSON.parse(l)}catch{return l}}(),void 0===p[u]&&delete p[u]}),typeof p.autoConnect<"u")if(""===p.autoConnect)p.autoConnect=!0;else if("boolean"!=typeof p.autoConnect)throw new Error("sails.io.js :: Unexpected/invalid configuration for `autoConnect` provided in script tag: `"+p.autoConnect+"` (a `"+typeof p.autoConnect+"`). Should be a boolean.");if(typeof p.environment<"u"&&"string"!=typeof p.environment)throw new Error("sails.io.js :: Unexpected/invalid configuration for `environment` provided in script tag: `"+p.environment+"` (a `"+typeof p.environment+"`). Should be a string.");if(typeof p.headers<"u"&&("object"!=typeof p.headers||Array.isArray(p.headers)))throw new Error("sails.io.js :: Unexpected/invalid configuration for `headers` provided in script tag: `"+p.headers+"` (a `"+typeof p.headers+'`). Should be a JSON-compatible dictionary (i.e. `{}`).  Don\'t forget those double quotes (""), even on key names!  Use single quotes (\'\') to wrap the HTML attribute value; e.g. `headers=\'{"X-Auth": "foo"}\'`');if(typeof p.url<"u"&&"string"!=typeof p.url)throw new Error("sails.io.js :: Unexpected/invalid configuration for `url` provided in script tag: `"+p.url+"` (a `"+typeof p.url+"`). Should be a string.")}var v=typeof io<"u"?io:void 0;function w(u){var l;if(!(l=u||v))throw"node"===n.platform?new Error("No socket.io client available.  When requiring `sails.io.js` from Node.js, a socket.io client (`io`) must be passed in; e.g.:\n```\nvar io = require('sails.io.js')( require('socket.io-client') )\n```\n(see https://github.com/balderdashy/sails.io.js/tree/master/test for more examples)"):new Error("The Sails socket SDK depends on the socket.io client, but the socket.io global (`io`) was not available when `sails.io.js` loaded.  Normally, the socket.io client code is bundled with sails.io.js, so something is a little off.  Please check to be sure this version of `sails.io.js` has the minified Socket.io client at the top of the file.");if(l.sails)throw"node"===n.platform?new Error("The provided socket.io client (`io`) has already been augmented into a Sails socket SDK instance (it has `io.sails`)."):new Error("The socket.io client (`io`) has already been augmented into a Sails socket SDK instance.  Usually, this means you are bringing `sails.io.js` onto the page more than once.");function i(r){return r=r||{prefix:!0},"object"!=typeof console||"function"!=typeof console.log||"function"!=typeof console.log.bind?function(){}:function(){var b=Array.prototype.slice.call(arguments);if("production"!==l.sails.environment){var A="";r.prefix&&b.unshift(A),console.log.bind(console).apply(this,b)}}}var c=i();function s(r){var g=r.requestQueue;if(g){for(var b in g)({}).hasOwnProperty.call(g,b)&&r.request.apply(r,g[b]);r.requestQueue=null}}function t(r){var g;this.body=r.body,this.headers=r.headers||{},this.statusCode=typeof r.statusCode>"u"?200:r.statusCode,(this.statusCode<200||this.statusCode>=400)&&(0===this.statusCode?g="The socket request failed.":(g="Server responded with a "+this.statusCode+" status code",g+=":\n```\n"+JSON.stringify(this.body,null,2)+"\n```"),this.error=new Error(g))}function d(r){var g=this;r=r||{},g._isConnecting=!1,g._mightBeAboutToAutoConnect=!1;var b={};C.forEach(function(A){"headers"!=A&&Object.defineProperty(g,A,{get:function(){return"url"==A?b[A]||g._raw&&g._raw.io&&g._raw.io.uri:b[A]},set:function(E){if(g.isConnected()&&!1!==l.sails.strict&&E!=b[A])throw new Error("Cannot change value of `"+A+"` while socket is connected.");g._raw&&g._raw.io&&g._raw.io.reconnecting&&!g._raw.io.skipReconnect&&(g._raw.io.skipReconnect=!0,c("Stopping reconnect; use .reconnect() to connect socket after changing options.")),b[A]=E}})}),C.forEach(function(A){g[A]=r[A]}),g.eventQueue={},g.on("sails:parseError",function(A){c("Sails encountered an error parsing a socket message sent from this client, and did not have access to a callback function to respond with."),c("Error details:",A)})}return c.noPrefix=i({prefix:!1}),t.prototype.toString=function(){return"[ResponseFromSails]  -- Status: "+this.statusCode+"  -- Headers: "+this.headers+"  -- Body: "+this.body},t.prototype.toPOJO=function(){return{body:this.body,headers:this.headers,statusCode:this.statusCode}},t.prototype.pipe=function(){return new Error("Client-side streaming support not implemented yet.")},d.prototype._connect=function(){var r=this;if(r._isConnecting=!0,C.forEach(function(b){typeof r[b]>"u"&&(r[b]=l.sails[b])}),r.extraHeaders=r.initialConnectionHeaders||{},r.transportOptions=r.transportOptions||{},r.transports.forEach(function(b){r.transportOptions[b]=r.transportOptions[b]||{},r.transportOptions[b].extraHeaders=r.initialConnectionHeaders||{}}),(r.initialConnectionHeaders&&"node"!==n.platform&&-1===r.transports.indexOf("polling")||r.transports.length>1)&&"object"==typeof console&&"function"==typeof console.warn&&console.warn("When running in browser, `initialConnectionHeaders` option is only available for the `polling` transport."),r.url=r.url?r.url.replace(/(\/)$/,""):void 0,"string"==typeof r.query)r.query=r.query.replace(/^\?/,""),r.query+="&"+n.versionString;else{if(r.query&&"object"==typeof r.query)throw new Error("`query` setting does not currently support configuration as a dictionary (`{}`).  Instead, it must be specified as a string like `foo=89&bar=hi`");if(r.query)throw new Error("Unexpected data type provided for `query` setting: "+r.query);r.query=n.versionString}var g=function(){if(typeof window>"u"||typeof window.location>"u"||"string"!=typeof r.url)return!1;var b=function(){try{b=r.url.match(/^([a-z]+:\/\/)/i)[1].toLowerCase()}catch{}return b=b||"http://"}(),A=!!r.url.match("^https"),E=function(){try{return r.url.match(/^[a-z]+:\/\/[^:]*:([0-9]*)/i)[1]}catch{}return A?"443":"80"}(),m=r.url.replace(/^([a-z]+:\/\/)/i,"");if(b.replace(/[:\/]/g,"")!==window.location.protocol.replace(/[:\/]/g,""))return!0;if(0!==m.search(window.location.hostname))return!0;var x=window.location.protocol.match(/https/i);return E!==(window.location.port+""||(x?"443":"80"))}();!function(A){if(!r.useCORSRouteToGetCookie||!g)return A();var E=r.url;!function e(r,g){if(r=r||{},typeof window>"u")return g();var b=document.createElement("script");window._sailsIoJSConnect=function(A){b&&b.parentNode&&b.parentNode.removeChild(b),g(A)},b.src=r.url,document.getElementsByTagName("head")[0].appendChild(b)}({url:E+="string"==typeof r.useCORSRouteToGetCookie?r.useCORSRouteToGetCookie:"/__getcookie",method:"GET"},A)}(function(){r._raw=l(r.url,r),r._raw.io.engine.transport.on("error",function(A){!r._isConnecting||(r._isConnecting=!1,r.connectionErrorTimestamp=(new Date).getTime(),c("===================================="),c("The socket was unable to connect."),c("The server may be offline, or the"),c("socket may have failed authorization"),c("based on its origin or other factors."),c("You may want to check the values of"),c("`sails.config.sockets.onlyAllowOrigins`"),c("or (more rarely) `sails.config.sockets.beforeConnect`"),c("in your app."),c("More info: https://sailsjs.com/config/sockets"),c("For help: https://sailsjs.com/support"),c(""),c("Technical details:"),c(A),c("===================================="))}),r.replay(),r.on("connect",function(){r._isConnecting=!1,c.noPrefix("\n\n  |>    Now connected to "+(r.url?r.url:"Sails")+".\n\\___/   For help, see: http://bit.ly/2q0QDpf\n        (using sails.io.js "+l.sails.sdk.platform+" SDK @v"+l.sails.sdk.version+")\n         Connected at: "+new Date+"\n\n\n")}),r.on("disconnect",function(){r.connectionLostTimestamp=(new Date).getTime();var A=[].concat(r._responseCbs||[]);r._responseCbs=[];var E=[].concat(r._requestCtxs||[]);r._requestCtxs=[],A.length&&A.forEach(function(m){m(new Error("The socket disconnected before the request completed."),{body:null,statusCode:0,headers:{}})}),E.length&&E.forEach(function(m){m.calledCb=!0}),c("===================================="),c("Socket was disconnected from Sails."),c("Usually, this is due to one of the following reasons:\n -> the server "+(r.url?r.url+" ":"")+"was taken down\n -> your browser lost internet connectivity"),c("====================================")}),r.on("reconnecting",function(A){c("\n        Socket is trying to reconnect to "+(r.url?r.url:"Sails")+"...\n_-|>_-  (attempt #"+A+")\n\n")}),r.on("reconnect",function(A,E){var k;r._isConnecting||r.on("connect",s.bind(r,r)),k=r.connectionLostTimestamp?((new Date).getTime()-r.connectionLostTimestamp)/1e3:r.connectionErrorTimestamp?((new Date).getTime()-r.connectionErrorTimestamp)/1e3:"???",c("\n  |>    Socket reconnected successfully after\n\\___/   being offline at least "+k+" seconds.\n\n")}),r.on("error",function(E){r._isConnecting=!1,c("Failed to connect socket (possibly due to failed `beforeConnect` on server)","Error:",E)})})},d.prototype.reconnect=function(){if(this._isConnecting)throw new Error("Cannot connect- socket is already connecting");if(this.isConnected())throw new Error("Cannot connect- socket is already connected");return this._connect()},d.prototype.disconnect=function(){if(this._isConnecting=!1,!this.isConnected())throw new Error("Cannot disconnect- socket is already disconnected");return this._raw.disconnect()},d.prototype.isConnected=function(){return!!this._raw&&!!this._raw.connected},d.prototype.isConnecting=function(){return this._isConnecting},d.prototype.mightBeAboutToAutoConnect=function(){return this._mightBeAboutToAutoConnect},d.prototype.replay=function(){var r=this;for(var g in r.eventQueue)for(var b in r.eventQueue[g])r._raw.on(g,r.eventQueue[g][b]);return r.isConnected()?s(r):r._raw.once("connect",s.bind(r,r)),r},d.prototype.on=function(r,g){return this._raw?(this._raw.on(r,g),this):(this.eventQueue[r]?this.eventQueue[r].push(g):this.eventQueue[r]=[g],this)},d.prototype.off=function(r,g){return this._raw?(this._raw.off(r,g),this):(this.eventQueue[r]&&this.eventQueue[r].indexOf(g)>-1&&this.eventQueue[r].splice(this.eventQueue[r].indexOf(g),1),this)},d.prototype.removeAllListeners=function(){return this._raw?(this._raw.removeAllListeners(),this):(this.eventQueue={},this)},d.prototype.get=function(r,g,b){return"function"==typeof g&&(b=g,g={}),this.request({method:"get",params:g,url:r},b)},d.prototype.post=function(r,g,b){return"function"==typeof g&&(b=g,g={}),this.request({method:"post",data:g,url:r},b)},d.prototype.put=function(r,g,b){return"function"==typeof g&&(b=g,g={}),this.request({method:"put",params:g,url:r},b)},d.prototype.patch=function(r,g,b){return"function"==typeof g&&(b=g,g={}),this.request({method:"patch",params:g,url:r},b)},d.prototype.delete=function(r,g,b){return"function"==typeof g&&(b=g,g={}),this.request({method:"delete",params:g,url:r},b)},d.prototype.request=function(r,g){var b='Usage:\nsocket.request( options, [fnToCallWhenComplete] )\n\noptions.url :: e.g. "/foo/bar"\noptions.method :: e.g. "get", "post", "put", or "delete", etc.\noptions.params :: e.g. { emailAddress: "mike@example.com" }\noptions.headers :: e.g. { "x-my-custom-header": "some string" }';if(typeof g<"u"&&"function"!=typeof g)throw new Error("Invalid callback function!\n"+b);if("object"!=typeof r||"string"!=typeof r.url)throw new Error("Invalid or missing URL!\n"+b);if(r.method&&"string"!=typeof r.method)throw new Error('Invalid `method` provided (should be a string like "post" or "put")\n'+b);if(r.headers&&"object"!=typeof r.headers)throw new Error("Invalid `headers` provided (should be a dictionary with string values)\n"+b);if(r.params&&"object"!=typeof r.params)throw new Error("Invalid `params` provided (should be a dictionary with JSON-serializable values)\n"+b);if(r.data&&"object"!=typeof r.data)throw new Error("Invalid `data` provided (should be a dictionary with JSON-serializable values)\n"+b);if(r.data&&r.params)throw new Error("Cannot specify both `params` and `data`!  They are aliases of each other.\n"+b);if(r.data&&(r.params=r.data,delete r.data),!this.isConnected())return this.requestQueue=this.requestQueue||[],void this.requestQueue.push([r,g]);r.headers=r.headers||{};var A={method:(r.method||"get").toLowerCase(),headers:r.headers,data:r.params||r.data||{},url:r.url.replace(/^(.+)\/*\s*$/,"$1"),cb:g};if(this._responseCbs=this._responseCbs||[],this._requestCtxs=this._requestCtxs||[],g&&(this._responseCbs.push(g),this._requestCtxs.push(A)),this.headers&&"object"==typeof this.headers)for(var E in this.headers)r.headers.hasOwnProperty(E)||(r.headers[E]=this.headers[E]);!function o(r,g){if(!r._raw)throw new Error("Failed to emit from socket- raw SIO socket is missing.");var b=g.cb;delete g.cb,r._raw.emit(g.method,g,function(m){b&&!g.calledCb&&(b(m.body,new t(m)),g.calledCb=!0,r._responseCbs.splice(r._responseCbs.indexOf(b),1),r._requestCtxs.splice(r._requestCtxs.indexOf(g),1))})}(this,A)},d.prototype._request=function(r,g){throw new Error("`_request()` was a private API deprecated as of v0.11 of the sails.io.js client. Use `.request()` instead.")},l.sails={autoConnect:!0,reconnection:!1,useCORSRouteToGetCookie:!0,environment:y.match(/(\#production|\.min\.js)/g)||"object"==typeof window&&window&&"object"==typeof window.SAILS_LOCALS&&window.SAILS_LOCALS&&("staging"===window.SAILS_LOCALS._environment||"production"===window.SAILS_LOCALS._environment)?"production":"development",sdk:n,transports:["websocket"]},h.forEach(function(r){typeof p[r]<"u"&&(l.sails[r]=p[r])}),l.sails.connect=function(r,g){"object"==typeof r&&(g=r,r=null),(g=g||{}).url=r||g.url||void 0;var b=new d(g);return b._connect(),b},l.socket=new d,l.socket._mightBeAboutToAutoConnect=!0,setTimeout(function(){l.socket._mightBeAboutToAutoConnect=!1,!1!==l.sails.autoConnect&&!1!==l.sails.autoconnect?l.socket._connect():delete l.socket},0),l}"node"===n.platform?module.exports=w:"function"==typeof define&&define.amd?define([],function(){return w}):w()}();